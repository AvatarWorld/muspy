# MusPy YAML schema v0.0

meta: include("meta_", required=False)
timing: include("timing_", required=False)
time_signatures: list(include("time_signature"), required=False)
key_signatures: list(include("key_signature"), required=False)
downbeats: list(num(), required=False)
lyrics: list(include("lyric"), required=False)
annotations: list(include("annotation"), required=False)
tracks: any(list(include("track")), required=False)

---

meta_:
  schema_version: regex("[0-9].[0-9]", required=False)
  song: include("song_", required=False)
  source: include("source_", required=False)

song_:
  title: str(required=False)
  artist: str(required=False)
  creators: list(str(), required=False)

source_:
  filename: str(required=False)
  collection: str(required=False)
  format: str(required=False)
  copyright: str(required=False)

timing_:
  resolution: int(required=False)
  tempos: list(include("tempo"), required=False)

tempo:
  time: num()
  tempo: num()

key_signature:
  time: num()
  root: str()
  mode: enum('major', 'minor')

time_signature:
  time: num()
  numerator: int()
  denominator: int()

note:
  start: num()
  end: num()
  pitch: int()
  velocity: int()

lyric:
  time: num()
  lyric: str()

annotation:
  time: num()
  # annotation: any()
  group: str(required=False)

track:
  program: int()
  is_drum: bool()
  name: str(required=False)
  notes: list(include("note"), required=False)
  lyrics: list(include("lyric"), required=False)
  annotations: list(include("annotation"), required=False)

# MusPy YAML schema v0.0

meta: include("meta_")
timing: include("timing")
time_signatures: list(include("time_signature"))
key_signatures: list(include("key_signature"))
tempos: list(include("tempo"))
downbeats: list(num())
lyrics: list(include("lyric"))
annotations: list(include("annotation"))
tracks: any(list(include("track")), null())

---

timing:
  is_symbolic_timing: bool()
  beat_resolution: int(required=False)

time_signature:
  time: num()
  numerator: int()
  denominator: int()

key_signature:
  time: num()
  root: str()
  mode: str()

tempo:
  time: num()
  tempo: num()

---

track:
  name: str()
  program: int()
  is_drum: bool()
  notes: list(include("note"))
  lyrics: list(include("lyric"))
  annotations: list(include("annotation"))

note:
  start: num()
  end: num()
  pitch: int()
  velocity: int()

lyric:
  time: num()
  lyric: str()

annotation:
  time: num()
  annotation: any(bool(), num(), str(), list(), map())

meta_:
  schema_version: regex("[0-9].[0-9]")
  song: include("song_info")
  source: include("source_info")

source_info:
  collection: str(required=False)
  filename: str(required=False)
  format: str(required=False)
  id: str(required=False)

song_info:
  title: str(required=False)
  artist: str(required=False)
  composers: list(str(), required=False)
